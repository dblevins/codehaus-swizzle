{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"12519453","self":"https://issues.apache.org/jira/rest/api/2/issue/12519453","key":"TOMEE-12","fields":{"issuetype":{"self":"https://issues.apache.org/jira/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":21133},"timespent":null,"project":{"self":"https://issues.apache.org/jira/rest/api/2/project/12312320","id":"12312320","key":"TOMEE","name":"TomEE","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/projectavatar?pid=12312320&avatarId=10011","24x24":"https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12312320&avatarId=10011","16x16":"https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12312320&avatarId=10011","32x32":"https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12312320&avatarId=10011"},"projectCategory":{"self":"https://issues.apache.org/jira/rest/api/2/projectCategory/10251","id":"10251","description":"","name":"OpenEJB"}},"fixVersions":[{"self":"https://issues.apache.org/jira/rest/api/2/version/12321654","id":"12321654","name":"1.5.0","archived":true,"released":true,"releaseDate":"2012-09-28"}],"aggregatetimespent":null,"resolution":{"self":"https://issues.apache.org/jira/rest/api/2/resolution/8","id":"8","description":"The described issue is not actually a problem - it is as designed.","name":"Not A Problem"},"customfield_12312322":null,"customfield_12310220":"2011-10-09T15:42:28.140+0000","customfield_12312520":null,"customfield_12312323":null,"customfield_12312521":"Sun Oct 09 17:31:58 UTC 2011","customfield_12312320":null,"customfield_12310222":"1_*:*_1_*:*_4402543473_*|*_5_*:*_1_*:*_0","customfield_12310420":"41094","customfield_12312321":null,"resolutiondate":"2011-10-09T17:31:58.028+0000","workratio":-1,"customfield_12312328":null,"customfield_12312329":null,"customfield_12312923":null,"customfield_12312326":null,"customfield_12312920":null,"customfield_12310300":null,"customfield_12312327":null,"customfield_12312921":null,"customfield_12312324":null,"customfield_12312720":null,"customfield_12312325":null,"lastViewed":null,"watches":{"self":"https://issues.apache.org/jira/rest/api/2/issue/TOMEE-12/watchers","watchCount":0,"isWatching":false},"created":"2011-08-19T18:36:14.606+0000","priority":{"self":"https://issues.apache.org/jira/rest/api/2/priority/4","iconUrl":"https://issues.apache.org/jira/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"labels":[],"customfield_12312333":null,"customfield_12312334":null,"customfield_12313422":"false","customfield_12310310":"0.0","customfield_12312331":null,"customfield_12312332":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_12311120":null,"customfield_12312330":null,"versions":[],"customfield_12312339":null,"issuelinks":[],"assignee":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"customfield_12312337":null,"customfield_12312338":null,"updated":"2012-09-20T13:02:28.619+0000","customfield_12312335":null,"customfield_12312336":null,"status":{"self":"https://issues.apache.org/jira/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.","iconUrl":"https://issues.apache.org/jira/images/icons/statuses/closed.png","name":"Closed","id":"6","statusCategory":{"self":"https://issues.apache.org/jira/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"The \"public WebModule deploy(WebModule webModule)\" throws an InstantiationException when attempting to get a newInstance() of a com.sun.jersey.api.core.ApplicationAdapter.  Looking at the jersey source, the ApplicationAdapter does not have a null constructor, only a constructor that accepts an javax.ws.rs.core.Application argument.  \n\nThis problem does not occur with OpenEJB 3.1.4.\n\nTest code to replicate the results:\n\n    public static void main(String[] args) throws Exception {\n        String className = \"com.sun.jersey.api.core.ApplicationAdapter\";\n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        Class<?> clazz = classLoader.loadClass(className);\n        Application app = null;\n        try {\n            app = Application.class.cast(clazz.newInstance());\n        } catch (InstantiationException ie) {\n            ie.printStackTrace();\n            Constructor<?> cstor = clazz.getDeclaredConstructors()[0];\n            app = Application.class.cast(cstor.newInstance(new Application()));\n            System.out.println(app.getClass().getName());\n        }\n    }\n\nStack Dump from $CATALINA_HOME/logs/openejb.log:\n\norg.apache.openejb.OpenEJBException: Unable to instantiate Application class: com.sun.jersey.api.core.ApplicationAdapter: com.sun.jersey.api.core.ApplicationAdapter\n\tat org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:1618)\n\tat org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:1418)\n\tat org.apache.openejb.config.AnnotationDeployer.deploy(AnnotationDeployer.java:275)\n\tat org.apache.openejb.config.ConfigurationFactory$Chain.deploy(ConfigurationFactory.java:235)\n\tat org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:661)\n\tat org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:537)\n\tat org.apache.openejb.config.ConfigurationFactory.getOpenEjbConfiguration(ConfigurationFactory.java:346)\n\tat org.apache.openejb.assembler.classic.Assembler.getOpenEjbConfiguration(Assembler.java:321)\n\tat org.apache.openejb.assembler.classic.Assembler.build(Assembler.java:300)\n\tat org.apache.openejb.OpenEJB$Instance.<init>(OpenEJB.java:130)\n\tat org.apache.openejb.OpenEJB.init(OpenEJB.java:276)\n\tat org.apache.openejb.tomcat.catalina.TomcatLoader.init(TomcatLoader.java:203)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:616)\n\tat org.apache.openejb.loader.Embedder.init(Embedder.java:75)\n\tat org.apache.openejb.tomcat.loader.TomcatHook.hook(TomcatHook.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:616)\n\tat org.apache.openejb.tomcat.loader.TomcatEmbedder.embed(TomcatEmbedder.java:100)\n\tat org.apache.openejb.tomcat.loader.OpenEJBListener.lifecycleEvent(OpenEJBListener.java:68)\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89)\n\tat org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:379)\n\tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:107)\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:572)\n\tat org.apache.catalina.startup.Catalina.load(Catalina.java:595)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:616)\n\tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:262)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:430)\nCaused by: java.lang.InstantiationException: com.sun.jersey.api.core.ApplicationAdapter\n\tat java.lang.Class.newInstance0(Class.java:357)\n\tat java.lang.Class.newInstance(Class.java:325)\n\tat org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:1615)\n","customfield_10010":null,"timetracking":{},"customfield_12312026":null,"customfield_12312023":null,"customfield_12312024":null,"attachment":[],"customfield_12312340":null,"aggregatetimeestimate":null,"customfield_12312341":null,"customfield_12312220":null,"customfield_12312022":null,"customfield_12310921":null,"customfield_12310920":"34009","customfield_12312823":null,"summary":"org.apache.openejb.config.AnnotationDeployer throws InstantiationException on com.sun.jersey.api.core.ApplicationAdapter","creator":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan.stroop","name":"alan.stroop","key":"alan.stroop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Stroop","active":true,"timeZone":"Etc/UTC"},"subtasks":[],"reporter":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=alan.stroop","name":"alan.stroop","key":"alan.stroop","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?avatarId=10452","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"},"displayName":"Alan Stroop","active":true,"timeZone":"Etc/UTC"},"customfield_12310291":null,"customfield_12310290":null,"aggregateprogress":{"progress":0,"total":0},"environment":"Fedora 14 x86_64, OpenJDK 64-Bit Server VM (build 19.0-b09, mixed mode), apache-tomee-4.0.0-20110817.224012-14, jersey 1.7 APIs","customfield_12313520":null,"customfield_12311020":null,"duedate":null,"customfield_12310250":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519453/comment/13123711","id":"13123711","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"body":"in openejb > 3.x (or tomee 1.x) rest services are deployed following this rule:\n\n1) all rest services are scanned\n2) if an Application implementation is found it is used otherwise all found services are deployed\n\ni'll fix the deployement to ignore not instantiable application children but rest services will still be deployed.\n\nIMHO you shouldn't deploy jersey in tomee 1.0.0\n\ncan you try without it?","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"created":"2011-10-09T15:42:28.140+0000","updated":"2011-10-09T15:42:28.140+0000"},{"self":"https://issues.apache.org/jira/rest/api/2/issue/12519453/comment/13123736","id":"13123736","author":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"body":"reopen the issue if you can't deploy your app with openejb","updateAuthor":{"self":"https://issues.apache.org/jira/rest/api/2/user?username=romain.manni-bucau","name":"romain.manni-bucau","key":"romain.manni-bucau","avatarUrls":{"48x48":"https://issues.apache.org/jira/secure/useravatar?ownerId=romain.manni-bucau&avatarId=18453","24x24":"https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romain.manni-bucau&avatarId=18453","16x16":"https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romain.manni-bucau&avatarId=18453","32x32":"https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romain.manni-bucau&avatarId=18453"},"displayName":"Romain Manni-Bucau","active":true,"timeZone":"Europe/Berlin"},"created":"2011-10-09T17:31:58.073+0000","updated":"2011-10-09T17:31:58.073+0000"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://issues.apache.org/jira/rest/api/2/issue/TOMEE-12/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_12311820":"0|i066nj:"}}